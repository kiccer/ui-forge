import{d as T,a as F}from"./customParseFormat-CHUSihUt.js";import{ElSelect as h}from"./index-CGXea_JR.js";import{A as H,aO as N,C as y,bo as _,aR as j,G as C,H as w,n as x,aF as M,l as i,N as d,a5 as f,a4 as v,s as m,aw as U,Q as A,a6 as D,aa as L,O as G,Z as Q,ao as R,_ as Z}from"./index-qApksoq4.js";import{u as q}from"./index-BzjGKCeo.js";import"./index-D7zjYGKJ.js";import"./index-3CH6Eqzt.js";import"./event-BB_Ol6Sd.js";import"./index-CVkszJ9F.js";import"./util-B2mB0_6C.js";import"./index-BIZmXSXZ.js";import"./isEqual-DDbp-EV7.js";import"./useInput-CEz7TjY-.js";import"./_baseFindIndex-D7XfJLKM.js";import"./hasIn-DDlcYtPq.js";import"./identity-DKeuBCMA.js";import"./debounce-C-aFqetL.js";import"./scroll-yCK63YuP.js";const J=H({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:N,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:y([String,Object]),default:()=>_},clearIcon:{type:y([String,Object]),default:()=>j}}),u=a=>{const o=(a||"").split(":");if(o.length>=2){let t=Number.parseInt(o[0],10);const s=Number.parseInt(o[1],10),n=a.toUpperCase();return n.includes("AM")&&t===12?t=0:n.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:s}}return null},S=(a,o)=>{const t=u(a);if(!t)return-1;const s=u(o);if(!s)return-1;const n=t.minutes+t.hours*60,c=s.minutes+s.hours*60;return n===c?0:n>c?1:-1},I=a=>`${a}`.padStart(2,"0"),p=a=>`${I(a.hours)}:${I(a.minutes)}`,K=(a,o)=>{const t=u(a);if(!t)return"";const s=u(o);if(!s)return"";const n={hours:t.hours,minutes:t.minutes};return n.minutes+=s.minutes,n.hours+=s.hours,n.hours+=Math.floor(n.minutes/60),n.minutes=n.minutes%60,p(n)},W=C({name:"ElTimeSelect"}),X=C({...W,props:J,emits:["change","blur","focus","update:modelValue"],setup(a,{expose:o}){const t=a;T.extend(F);const{Option:s}=h,n=w("input"),c=x(),V=q(),{lang:k}=M(),B=i(()=>t.modelValue),$=i(()=>{const e=u(t.start);return e?p(e):null}),g=i(()=>{const e=u(t.end);return e?p(e):null}),z=i(()=>{const e=u(t.step);return e?p(e):null}),E=i(()=>{const e=u(t.minTime||"");return e?p(e):null}),O=i(()=>{const e=u(t.maxTime||"");return e?p(e):null}),P=i(()=>{const e=[];if(t.start&&t.end&&t.step){let l=$.value,r;for(;l&&g.value&&S(l,g.value)<=0;)r=T(l,"HH:mm").locale(k.value).format(t.format),e.push({value:r,disabled:S(l,E.value||"-1:-1")<=0||S(l,O.value||"100:100")>=0}),l=K(l,z.value)}return e});return o({blur:()=>{var e,l;(l=(e=c.value)==null?void 0:e.blur)==null||l.call(e)},focus:()=>{var e,l;(l=(e=c.value)==null?void 0:e.focus)==null||l.call(e)}}),(e,l)=>(d(),f(m(h),{ref_key:"select",ref:c,"model-value":m(B),disabled:m(V),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":l[0]||(l[0]=r=>e.$emit("update:modelValue",r)),onChange:l[1]||(l[1]=r=>e.$emit("change",r)),onBlur:l[2]||(l[2]=r=>e.$emit("blur",r)),onFocus:l[3]||(l[3]=r=>e.$emit("focus",r))},{prefix:v(()=>[e.prefixIcon?(d(),f(m(U),{key:0,class:A(m(n).e("prefix-icon"))},{default:v(()=>[(d(),f(D(e.prefixIcon)))]),_:1},8,["class"])):L("v-if",!0)]),default:v(()=>[(d(!0),G(Q,null,R(m(P),r=>(d(),f(m(s),{key:r.value,label:r.value,value:r.value,disabled:r.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var b=Z(X,[["__file","time-select.vue"]]);b.install=a=>{a.component(b.name,b)};const Y=b,Te=Y;export{Te as ElTimeSelect,Y as default};
