import{d as T,a as O}from"./customParseFormat-CHUSihUt.js";import{ElSelect as h}from"./index-CRkAP_Bv.js";import{h as _,j as y,a$ as j,au as x,n as V,p as F,r as H,c as i,x as d,O as f,N as v,u as m,a9 as M,A as U,P as w,T as A,y as D,I as L,a3 as q,_ as G}from"./index-CQXB1C3t.js";import{a as J,u as K}from"./index-4das4cVd.js";import{u as Q}from"./index-C-6OfDDU.js";import"./index-DQ_kKzU_.js";import"./index-BgPp_mYL.js";import"./event-BB_Ol6Sd.js";import"./index-CKW_sJRT.js";import"./util-B2mB0_6C.js";import"./index-1iOPsPCI.js";import"./isEqual-BfqlHFGY.js";import"./useInput-Cwz85sye.js";import"./_baseFindIndex-D7XfJLKM.js";import"./hasIn-DLUfdMxn.js";import"./identity-DKeuBCMA.js";import"./debounce-DxD4xqvT.js";import"./scroll-DkXEBV_a.js";const R=_({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:J,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:y([String,Object]),default:()=>j},clearIcon:{type:y([String,Object]),default:()=>x}}),u=r=>{const o=(r||"").split(":");if(o.length>=2){let t=Number.parseInt(o[0],10);const a=Number.parseInt(o[1],10),n=r.toUpperCase();return n.includes("AM")&&t===12?t=0:n.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:a}}return null},S=(r,o)=>{const t=u(r);if(!t)return-1;const a=u(o);if(!a)return-1;const n=t.minutes+t.hours*60,c=a.minutes+a.hours*60;return n===c?0:n>c?1:-1},I=r=>`${r}`.padStart(2,"0"),p=r=>`${I(r.hours)}:${I(r.minutes)}`,W=(r,o)=>{const t=u(r);if(!t)return"";const a=u(o);if(!a)return"";const n={hours:t.hours,minutes:t.minutes};return n.minutes+=a.minutes,n.hours+=a.hours,n.hours+=Math.floor(n.minutes/60),n.minutes=n.minutes%60,p(n)},X=V({name:"ElTimeSelect"}),Y=V({...X,props:R,emits:["change","blur","focus","update:modelValue"],setup(r,{expose:o}){const t=r;T.extend(O);const{Option:a}=h,n=F("input"),c=H(),$=K(),{lang:k}=Q(),B=i(()=>t.modelValue),C=i(()=>{const e=u(t.start);return e?p(e):null}),g=i(()=>{const e=u(t.end);return e?p(e):null}),P=i(()=>{const e=u(t.step);return e?p(e):null}),z=i(()=>{const e=u(t.minTime||"");return e?p(e):null}),E=i(()=>{const e=u(t.maxTime||"");return e?p(e):null}),N=i(()=>{const e=[];if(t.start&&t.end&&t.step){let l=C.value,s;for(;l&&g.value&&S(l,g.value)<=0;)s=T(l,"HH:mm").locale(k.value).format(t.format),e.push({value:s,disabled:S(l,z.value||"-1:-1")<=0||S(l,E.value||"100:100")>=0}),l=W(l,P.value)}return e});return o({blur:()=>{var e,l;(l=(e=c.value)==null?void 0:e.blur)==null||l.call(e)},focus:()=>{var e,l;(l=(e=c.value)==null?void 0:e.focus)==null||l.call(e)}}),(e,l)=>(d(),f(m(h),{ref_key:"select",ref:c,"model-value":m(B),disabled:m($),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":l[0]||(l[0]=s=>e.$emit("update:modelValue",s)),onChange:l[1]||(l[1]=s=>e.$emit("change",s)),onBlur:l[2]||(l[2]=s=>e.$emit("blur",s)),onFocus:l[3]||(l[3]=s=>e.$emit("focus",s))},{prefix:v(()=>[e.prefixIcon?(d(),f(m(M),{key:0,class:U(m(n).e("prefix-icon"))},{default:v(()=>[(d(),f(w(e.prefixIcon)))]),_:1},8,["class"])):A("v-if",!0)]),default:v(()=>[(d(!0),D(L,null,q(m(N),s=>(d(),f(m(a),{key:s.value,label:s.value,value:s.value,disabled:s.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var b=G(Y,[["__file","time-select.vue"]]);b.install=r=>{r.component(b.name,b)};const Z=b,he=Z;export{he as ElTimeSelect,Z as default};
